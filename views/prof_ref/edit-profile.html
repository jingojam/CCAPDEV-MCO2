<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <title>User Profile</title>
        <link rel="stylesheet" href="../reservations/navbar_template.css">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>

        <div class="vertical-label">TECHNICIAN</div>

        <div class="header">

            <a href="../reservations/reserve_home.html" id="website_name">@LabRes</a>

            <button class="dropbtn" onclick="myFunction()">
                <img src="../reservations/resources/profile_stock.png" class="profile-pic">
            </button>

            <div class="profile-dropdown">
                <div class="dropdown-menu" id="dropdownMenu">
                    <a href="../user-profile/profile-page.html">See User Profile</a>
                    <a href="../../STUDENT/authentication/Welcome.html">Sign Out Account</a>
                </div>
            </div>

            
            <form class="search-form">
            
                <input id="search-bar" type="text" placeholder="">
            
                <button id="search-button" type="submit">
                
                    <img src="../reservations/resources/search_icon.png" class="search-icon"/>
                
                </button>

            </form>
        </div>
        <div class="container">
            <div class="create_options">

                <a href="profile-page.html"><div id="option_1">
                    <p>< Return to Profile</p>
                
                </div></a>
            </div>

            <div class="profile-section">
                <div class="profile-info">
                    <img src="images/blank_pfp.png" alt="Header Profile Picture" class="profile-pic">
                    <button id="edit-pfp-button" class="button">Edit</button>
                    <script>
                        const userData= JSON.parse(localStorage.getItem('thisUser'));

                        if (userData && userData.firstName && userData.lastName) {
                            document.write(`<h1>${userData.firstName} ${userData.lastName}</h1>`);
                        }
                    </script>
                    <img id="pen1" src="images/pen-img.png" class="pen">
                    <div class="description-box">
                        <script>
                            if (userData && userData.firstName && userData.lastName) {
                                document.write(`Hello World! My name is ${userData.firstName} I love to do Web Development ♥️</p>`);
                            }
                        </script>
                        <img id="pen2" src="images/pen-img.png" class="pen">
                    </div>
                </div>
                <div class="manage-profile">
                    <button id="delete-button" class="button">Delete Profile</button>
                </div>
            </div>
        </div>

        <script src="profile.js"></script>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const viewOnly = localStorage.getItem("viewOnly");

                if (viewOnly === "true") {
                    const editButton = document.getElementById("edit-button");
                    if (editButton) {
                        editButton.remove();
                    }
                    localStorage.removeItem("viewOnly");
                }
            });

            const deleteProfileButton = document.getElementById("delete-button");

            deleteProfileButton.addEventListener("click", function(){
                window.location.href = "../authentication/Login.html";
            });
        </script>
    </body>
</html>